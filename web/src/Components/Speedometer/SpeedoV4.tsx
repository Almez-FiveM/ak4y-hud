import { selectSpeedometer } from '../../Store/store';
import { useSelector } from 'react-redux';
import { Box, Flex, Text } from '@chakra-ui/react';
import { colord } from "colord";
import Icons from '../../Constants/Icons';
import { transform } from 'framer-motion';
const speedArray = [60, 80, 100, 120, 140, 0, 20, 40];

const SpeedoV4 = () => {
  const speedo = useSelector(selectSpeedometer);
  let speedToDash = (speedo.speed > 160 ? 160 : speedo.speed) * 5.35;
  let fuelToDash = speedo.fuel * 4.28;
  let nitrousToDash = speedo.nitrous * 4.28;
  return (
    <Flex
      display={'flex'}
      height={'28vh'}
      width={'16vw'}
      mr={'2vw'}
      mb={'4vh'}
      gap={'.25vw'}
      p={'.5vh .5vw'}
      justifyContent={'center'}
      alignItems={'center'}
      pos={'relative'}
      boxSizing='border-box'
    >
      <Flex width={'95%'} align={"center"} justify={"center"} pos={'absolute'} height={'100%'} zIndex={999}>
        <svg width="100%" height="100%" strokeDasharray={`${speedToDash} 1700`}           style={
            {
              filter: `drop-shadow(0px 0px 10px ${colord("#8A85DD").alpha(0.5).toHex()})`
            }
          }
          viewBox="0 0 272 272" fill="none" xmlns="http://www.w3.org/2000/svg">
          <mask id="path-1-inside-1_232_1007" fill="white">
            <path d="M136 272C99.9676 272 65.4078 257.701 39.909 232.242C14.4103 206.783 0.056764 172.246 0.000167763 136.214C-0.0564285 100.181 14.1885 65.5991 39.6072 40.0603C65.0258 14.5216 99.5405 0.113865 135.573 0.000671072C171.605 -0.112523 206.21 14.0781 231.788 39.4566C257.367 64.8351 271.829 99.3271 271.998 135.359C272.168 171.391 258.032 206.018 232.694 231.636C207.355 257.255 172.886 271.771 136.854 271.997L136.816 265.877C171.226 265.661 204.144 251.798 228.343 227.333C252.541 202.867 266.041 169.799 265.879 135.388C265.716 100.977 251.905 68.0375 227.478 43.801C203.05 19.5645 170.003 6.01254 135.592 6.12064C101.181 6.22874 68.2197 19.9881 43.9448 44.3776C19.67 68.7671 6.06611 101.793 6.12016 136.204C6.1742 170.615 19.8818 203.598 44.2331 227.911C68.5845 252.224 101.589 265.88 136 265.88L136 272Z" />
          </mask>
          <path d="M136 272C99.9676 272 65.4078 257.701 39.909 232.242C14.4103 206.783 0.056764 172.246 0.000167763 136.214C-0.0564285 100.181 14.1885 65.5991 39.6072 40.0603C65.0258 14.5216 99.5405 0.113865 135.573 0.000671072C171.605 -0.112523 206.21 14.0781 231.788 39.4566C257.367 64.8351 271.829 99.3271 271.998 135.359C272.168 171.391 258.032 206.018 232.694 231.636C207.355 257.255 172.886 271.771 136.854 271.997L136.816 265.877C171.226 265.661 204.144 251.798 228.343 227.333C252.541 202.867 266.041 169.799 265.879 135.388C265.716 100.977 251.905 68.0375 227.478 43.801C203.05 19.5645 170.003 6.01254 135.592 6.12064C101.181 6.22874 68.2197 19.9881 43.9448 44.3776C19.67 68.7671 6.06611 101.793 6.12016 136.204C6.1742 170.615 19.8818 203.598 44.2331 227.911C68.5845 252.224 101.589 265.88 136 265.88L136 272Z" stroke="#8A85DD" strokeWidth="20" mask="url(#path-1-inside-1_232_1007)" />
        </svg>
      </Flex>

      <Flex width={'98.5%'} pos={'absolute'} height={'100%'}>
        <svg width="100%" height="100%"
          style={
            {
              filter: `drop-shadow(0px 0px 10px ${colord(speedo.fuelColor).alpha(0.5).toHex()})`
            }
          }
          strokeDasharray={`${fuelToDash} 1700`}
          viewBox="0 0 272 272" fill="none" xmlns="http://www.w3.org/2000/svg">
          <mask id="path-1-inside-1_232_1007" fill="white">
            <path d="M136 272C100.301 272 66.0325 257.963 40.5917 232.919C15.1509 207.875 0.577516 173.831 0.0167777 138.136C-0.543961 102.441 12.9529 67.9569 37.5945 42.1258C62.2361 16.2948 96.0463 1.18845 131.728 0.067107C167.41 -1.05423 202.102 11.8993 228.317 36.1322C254.532 60.365 270.167 93.9337 271.849 129.594C273.531 165.253 261.124 200.145 237.306 226.737C213.487 253.329 180.168 269.49 144.539 271.732L144.317 268.203C179.02 266.019 211.473 250.279 234.672 224.378C257.87 198.477 269.955 164.493 268.317 129.76C266.679 95.0275 251.45 62.3315 225.917 38.7287C200.383 15.126 166.593 2.50919 131.839 3.60137C97.0851 4.69356 64.154 19.4071 40.1531 44.5666C16.1522 69.726 3.00619 103.314 3.55235 138.081C4.09851 172.848 18.293 206.006 43.0723 230.399C67.8517 254.792 101.229 268.464 136 268.464L136 272Z" />
          </mask>
          <path d="M136 272C100.301 272 66.0325 257.963 40.5917 232.919C15.1509 207.875 0.577516 173.831 0.0167777 138.136C-0.543961 102.441 12.9529 67.9569 37.5945 42.1258C62.2361 16.2948 96.0463 1.18845 131.728 0.067107C167.41 -1.05423 202.102 11.8993 228.317 36.1322C254.532 60.365 270.167 93.9337 271.849 129.594C273.531 165.253 261.124 200.145 237.306 226.737C213.487 253.329 180.168 269.49 144.539 271.732L144.317 268.203C179.02 266.019 211.473 250.279 234.672 224.378C257.87 198.477 269.955 164.493 268.317 129.76C266.679 95.0275 251.45 62.3315 225.917 38.7287C200.383 15.126 166.593 2.50919 131.839 3.60137C97.0851 4.69356 64.154 19.4071 40.1531 44.5666C16.1522 69.726 3.00619 103.314 3.55235 138.081C4.09851 172.848 18.293 206.006 43.0723 230.399C67.8517 254.792 101.229 268.464 136 268.464L136 272Z" stroke={speedo.fuelColor} strokeWidth="20" mask="url(#path-1-inside-1_232_1007)" />
        </svg>
      </Flex>
      <Flex width={'98.5%'} pos={'absolute'} height={'100%'}>
        <svg width="100%" height="100%"
          style={
            {
              filter: `drop-shadow(0px 0px 10px ${colord(speedo.nitrousColor).alpha(0.5).toHex()})`
            }
          }
          strokeDasharray={`${nitrousToDash} 1700`}
          viewBox="0 0 272 272" fill="none" xmlns="http://www.w3.org/2000/svg">
          <mask id="path-1-inside-1_232_1010" fill="white">
            <path d="M136 272C171.712 272 205.991 257.953 231.435 232.893C256.878 207.833 271.443 173.771 271.984 138.062C272.526 102.354 259.001 67.8661 234.329 42.0459C209.658 16.2256 175.82 1.14561 140.125 0.0625568C104.429 -1.0205 69.7393 11.9803 43.5479 36.2573C17.3564 60.5343 1.76501 94.1392 0.14074 129.814C-1.48353 165.49 10.9897 200.372 34.8667 226.929C58.7437 253.485 92.1083 269.585 127.755 271.75L127.969 268.224C93.2482 266.115 60.7502 250.434 37.4933 224.567C14.2365 198.7 2.08718 164.724 3.66927 129.975C5.25135 95.2264 20.4379 62.4943 45.949 38.8478C71.4602 15.2014 105.249 2.53819 140.017 3.59311C174.786 4.64804 207.745 19.3364 231.775 44.486C255.806 69.6357 268.98 103.228 268.453 138.009C267.925 172.79 253.738 205.967 228.956 230.376C204.174 254.786 170.785 268.468 136 268.468L136 272Z" />
          </mask>
          <path d="M136 272C171.712 272 205.991 257.953 231.435 232.893C256.878 207.833 271.443 173.771 271.984 138.062C272.526 102.354 259.001 67.8661 234.329 42.0459C209.658 16.2256 175.82 1.14561 140.125 0.0625568C104.429 -1.0205 69.7393 11.9803 43.5479 36.2573C17.3564 60.5343 1.76501 94.1392 0.14074 129.814C-1.48353 165.49 10.9897 200.372 34.8667 226.929C58.7437 253.485 92.1083 269.585 127.755 271.75L127.969 268.224C93.2482 266.115 60.7502 250.434 37.4933 224.567C14.2365 198.7 2.08718 164.724 3.66927 129.975C5.25135 95.2264 20.4379 62.4943 45.949 38.8478C71.4602 15.2014 105.249 2.53819 140.017 3.59311C174.786 4.64804 207.745 19.3364 231.775 44.486C255.806 69.6357 268.98 103.228 268.453 138.009C267.925 172.79 253.738 205.967 228.956 230.376C204.174 254.786 170.785 268.468 136 268.468L136 272Z" stroke="#50FFB5" strokeWidth="18" mask="url(#path-1-inside-1_232_1010)" />
        </svg>
      </Flex>






      <Flex
        width={'100%'}
        height={'100%'}
        pos={'absolute'}
        justify={'center'}
        align={'center'}
        zIndex={3}
      >
        <svg width="92%" height="100%" viewBox="0 0 246 246" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="122.331" width="1.5" height="12.144" fill={speedo.speed >= 80 ? 'white' : 'rgba(255, 255, 255, 0.30)'} />
          <rect x="169.433" y="9.11853" width="1.5" height="12.144" transform="rotate(22.5 169.433 9.11853)" fill={speedo.speed >= 90 ? 'white' : 'rgba(255, 255, 255, 0.30)'} />
          <rect x="209.459" y="35.5684" width="1.5" height="12.144" transform="rotate(45 209.459 35.5684)" fill={speedo.speed >= 100 ? 'white' : 'rgba(255, 255, 255, 0.30)'} />
          <rect x="236.318" y="75.3232" width="1.5" height="12.144" transform="rotate(67.5 236.318 75.3232)" fill={speedo.speed >= 110 ? 'white' : 'rgba(255, 255, 255, 0.30)'} />
          <rect x="245.917" y="122.33" width="1.5" height="12.144" transform="rotate(90 245.917 122.33)" fill={speedo.speed >= 120 ? 'white' : 'rgba(255, 255, 255, 0.30)'} />
          <rect x="236.796" y="169.432" width="1.5" height="12.144" transform="rotate(112.5 236.796 169.432)" fill={speedo.speed >= 130 ? 'white' : 'rgba(255, 255, 255, 0.30)'} />
          <rect x="210.345" y="209.459" width="1.5" height="12.144" transform="rotate(135 210.345 209.459)" fill={speedo.speed >= 140 ? 'white' : 'rgba(255, 255, 255, 0.30)'} />
          <rect x="170.592" y="236.316" width="1.5" height="12.144" transform="rotate(157.5 170.592 236.316)" fill={speedo.speed >= 150 ? 'white' : 'rgba(255, 255, 255, 0.30)'} />
          <rect x="123.585" y="245.916" width="1.5" height="12.144" transform="rotate(180 123.585 245.916)" fill={speedo.speed >= 0 ? 'white' : 'rgba(255, 255, 255, 0.30)'} />
          <rect x="76.4834" y="236.797" width="1.5" height="12.144" transform="rotate(-157.5 76.4834 236.797)" fill={speedo.speed >= 10 ? 'white' : 'rgba(255, 255, 255, 0.30)'} />
          <rect x="36.457" y="210.346" width="1.5" height="12.144" transform="rotate(-135 36.457 210.346)" fill={speedo.speed >= 20 ? 'white' : 'rgba(255, 255, 255, 0.30)'} />
          <rect x="9.60059" y="170.591" width="1.5" height="12.144" transform="rotate(-112.5 9.60059 170.591)" fill={speedo.speed >= 30 ? 'white' : 'rgba(255, 255, 255, 0.30)'} />
          <rect x="-0.000244141" y="123.585" width="1.5" height="12.144" transform="rotate(-90 -0.000244141 123.585)" fill={speedo.speed >= 40 ? 'white' : 'rgba(255, 255, 255, 0.30)'} />
          <rect x="9.11914" y="76.4829" width="1.5" height="12.144" transform="rotate(-67.5 9.11914 76.4829)" fill={speedo.speed >= 50 ? 'white' : 'rgba(255, 255, 255, 0.30)'} />
          <rect x="35.5703" y="36.4546" width="1.5" height="12.144" transform="rotate(-45 35.5703 36.4546)" fill={speedo.speed >= 60 ? 'white' : 'rgba(255, 255, 255, 0.30)'} />
          <rect x="75.3252" y="9.59814" width="1.5" height="12.144" transform="rotate(-22.5 75.3252 9.59814)" fill={speedo.speed >= 70 ? 'white' : 'rgba(255, 255, 255, 0.30)'} />
        </svg>
      </Flex>
      <Flex
        width={'50%'}
        height={'50%'}
        pos={'absolute'}
        borderRadius={'50%'}
        border={'2px dashed rgba(255, 255, 255, 0.25)'}
        zIndex={2}
      >
      </Flex>
      <Flex
        width={'100%'}
        height={'40%'}
        pos={'absolute'}
        zIndex={2}
        justify={'center'}
        gap={'.2vw'}
        align={'center'}
        fontFamily={"Rajdhani"}
        flexDir={'column'}
        color={'#fff'}
      >
        <Flex
          align={'center'}
          gap={'.5vw'}
          height={'2.2vh'}
          mt={'1vh'}
        >
          <svg width="12" height="22" viewBox="0 0 19 22" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15.7682 13.0682C15.9488 12.4698 15.5988 11.8376 15.0005 11.6683C14.8876 11.6344 14.786 11.6005 14.6731 11.5779C14.6618 10.5732 14.4586 9.60226 14.086 8.72167L7.95572 13.102C10.112 12.9779 12.2797 13.2149 14.3682 13.8359C14.9666 14.0052 15.5988 13.6665 15.7682 13.0682ZM11.0393 21.9482C11.1219 21.9669 11.2057 21.9757 11.2873 21.9757C11.8044 21.9757 12.2696 21.6196 12.3876 21.0936L13.5165 16.0619C13.6401 15.5106 13.3379 14.9539 12.8087 14.7564C10.3699 13.8502 7.68646 13.8502 5.24768 14.7564C4.71842 14.9538 4.41642 15.5106 4.53982 16.0619L5.66878 21.0936C5.8055 21.7033 6.41186 22.087 7.0171 21.948C7.62573 21.8113 8.00822 21.2082 7.8715 20.5997L6.9707 16.5822C8.32896 16.2426 9.72695 16.2426 11.0852 16.5822L10.1844 20.5997C10.048 21.2083 10.4306 21.8114 11.0393 21.9482ZM0.21103 15.8567C0.425534 16.1615 0.775512 16.3309 1.12549 16.3309C1.35128 16.3309 1.58837 16.2631 1.78029 16.1164L17.5858 4.82674C18.0938 4.46547 18.2067 3.76552 17.8454 3.25748C17.4842 2.74945 16.7842 2.63655 16.2762 2.99782L12.0087 6.04602C11.9306 5.98607 11.847 5.93922 11.7664 5.88515C12.17 5.32766 12.4151 4.64916 12.4151 3.91228C12.4151 2.04949 10.891 0.525391 9.02824 0.525391C7.16545 0.525391 5.64135 2.04949 5.64135 3.91228C5.64135 4.65266 5.88915 5.33376 6.29626 5.89271C4.77995 6.88755 3.68248 8.66646 3.43987 10.7764C3.406 11.036 3.38342 11.307 3.38342 11.5779C3.27052 11.6005 3.16892 11.6344 3.05602 11.6683C2.48025 11.8263 2.13027 12.4247 2.27703 13.0004L0.470692 14.2875C-0.0373415 14.6487 -0.150238 15.3487 0.21103 15.8567Z"
              fill={speedo.seatbelt ? '#E8D211' : '#DFDFDF'} />
          </svg>
          <Icons.Engine
            size={'.8vw'}
            color={speedo.engine ? '#E8D211' : '#DFDFDF'}
          />
          <Icons.Headlights
            size={'.8vw'}
            color={(speedo.lights === 2) ? '#5CF99D' : ((speedo.lights === 1) ? '#58D2EE' : '#DFDFDF')}
          />
        </Flex>
        <Flex align={'center'} gap={0} flexDir={'column'} textShadow={'0px 0px 30px rgba(255, 255, 255, 0.25)'} fontWeight={600} fontSize={'2.5vw'} lineHeight={'1'}>
          <Flex>
            {speedo.speed < 10 && (
              <Text color={'#fff5'}>0</Text>
            )}
            {speedo.speed < 100 && (
              <Text color={'#fff5'}>0</Text>
            )}
            <Text >{speedo.speed}</Text>
          </Flex>
          <Text fontSize={'.6vw'} fontWeight={600}>{speedo.speedometerType}</Text>
        </Flex>
        <Text fontSize={'.8vw'} fontWeight={600}>(2)</Text>
      </Flex>
      <Flex
        width={'100%'}
        height={'100%'}
        pos={'absolute'}
        zIndex={2}
        align={'center'}
        justify={'center'}
        fontFamily={'Rajdhani'} fontWeight={600} fontSize={'.75vw'}
      >
        <Text pos={'absolute'} textColor={speedo.speed >= 0 ? '#8A85DD' : '#FFF'} left={'7.8vw'} top={'23vh'}>0</Text>
        <Text pos={'absolute'} textColor={speedo.speed >= 20 ? '#8A85DD' : '#FFF'} left={'3.5vw'} bottom={'5.5vh'}>20</Text>
        <Text pos={'absolute'} textColor={speedo.speed >= 40 ? '#8A85DD' : '#FFF'} left={'2vw'} bottom={'13.1vh'}>40</Text>
        <Text pos={'absolute'} textColor={speedo.speed >= 60 ? '#8A85DD' : '#FFF'} left={'3.3vw'} bottom={'20.2vh'}>60</Text>
        <Text pos={'absolute'} textColor={speedo.speed >= 80 ? '#8A85DD' : '#FFF'} left={'7.6vw'} bottom={'23vh'}>80</Text>
        <Text pos={'absolute'} textColor={speedo.speed >= 100 ? '#8A85DD' : '#FFF'} right={'3.3vw'} bottom={'20.2vh'}>100</Text>
        <Text pos={'absolute'} textColor={speedo.speed >= 120 ? '#8A85DD' : '#FFF'} right={'2vw'} bottom={'13.1vh'}>120</Text>
        <Text pos={'absolute'} textColor={speedo.speed >= 140 ? '#8A85DD' : '#FFF'} right={'3.5vw'} bottom={'5.5vh'}>140</Text>
      </Flex>
      <Flex
        width={'100%'}
        height={'100%'}
        borderRadius={'50%'}
        bg={'radial-gradient(70% 70% at 50% 50%, rgba(69, 69, 69, 0.78) 0%, rgba(24, 19, 33, 0.6474) 50%, rgba(95, 95, 95, 0.78) 100%)'}
        zIndex={1}
        // border={'6px solid #606060'}
        boxSizing='border-box'
      >
      </Flex>
    </Flex>
  );
};

export default SpeedoV4;